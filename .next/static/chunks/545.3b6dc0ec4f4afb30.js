"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[545],{1102:(t,e,i)=>{i.d(e,{B:()=>function t(e,i=!1){for(let n in e){if(void 0===e[n]&&delete e[n],!i)continue;let r=e[n];if("object"==typeof r&&null!==r){t(r,i);continue}if(Array.isArray(r))for(let e of r)t(e,i)}return e}})},1223:(t,e,i)=>{function n(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function r(t){let e="string"==typeof t?function(t){let e=t.trim();if(0===e.length)return null;let i=Array.from(new Set(e.split(/\s+/).map(t=>t.trim()).filter(Boolean)));if(0===i.length)return null;let r=i.map(n).join("|");return RegExp(`(${r})`,"gi")}(t):t;return{highlight(t){if(!e)return[{type:"text",content:t}];let i=[],n=0;for(let r of t.matchAll(e))n<r.index&&i.push({type:"text",content:t.substring(n,r.index)}),i.push({type:"text",content:r[0],styles:{highlight:!0}}),n=r.index+r[0].length;return n<t.length&&i.push({type:"text",content:t.substring(n)}),i}}}i.d(e,{r:()=>r})},1545:(t,e,i)=>{i.d(e,{searchDocs:()=>l});var n=i(1102),r=i(1223);async function l(t,e){let i=(0,r.r)(t),l=[],{index:o="default",client:h,params:u={},tag:c}=e;if("crawler"===o){let e=await h.search({...u,term:t,where:{category:c?{eq:c.slice(0,1).toUpperCase()+c.slice(1)}:void 0,...u.where},limit:10});if(!e)return l;for(let t of e.hits){let e=t.document;l.push({id:t.id,type:"page",content:e.title,contentWithHighlights:i.highlight(e.title),url:e.path},{id:"page"+t.id,type:"text",content:e.content,contentWithHighlights:i.highlight(e.content),url:e.path})}return l}let s={...u,term:t,where:(0,n.B)({tag:c,...u.where}),groupBy:{properties:["page_id"],maxResult:7,...u.groupBy}},g=await h.search(s);if(!g||!g.groups)return l;for(let t of g.groups){let e=!1;for(let n of t.result){let t=n.document;e||(l.push({id:t.page_id,type:"page",content:t.title,breadcrumbs:t.breadcrumbs,contentWithHighlights:i.highlight(t.title),url:t.url}),e=!0),l.push({id:t.id,content:t.content,contentWithHighlights:i.highlight(t.content),type:t.content===t.section?"heading":"text",url:t.section_id?`${t.url}#${t.section_id}`:t.url})}}return l}i(5156)}}]);